name = "shimmy-license-webhook"
main = "stripe-keygen-webhook.js"
compatibility_date = "2024-01-01"

[env.test]
name = "shimmy-license-webhook-test"

[env.test.vars]
BUY_ENDPOINT_ENABLED = "1"
STRIPE_REQUIRE_CUSTOMER = "1"

# Development settings
[dev]
port = 8787

# Environment variables (set via `wrangler secret put` - NOT in this file)
# Required secrets:
#   STRIPE_WEBHOOK_SECRET - wrangler secret put STRIPE_WEBHOOK_SECRET
#   STRIPE_SECRET_KEY     - wrangler secret put STRIPE_SECRET_KEY
#   KEYGEN_ACCOUNT_ID     - wrangler secret put KEYGEN_ACCOUNT_ID  
#   KEYGEN_PRODUCT_TOKEN  - wrangler secret put KEYGEN_PRODUCT_TOKEN

# For local development, you can use .dev.vars file (gitignored)
# Create cloudflare-worker/.dev.vars with:
#   STRIPE_WEBHOOK_SECRET=whsec_test_...
#   STRIPE_SECRET_KEY=sk_test_...
#   KEYGEN_ACCOUNT_ID=6270bf9c-23ad-4483-9296-3a6d9178514a
#   KEYGEN_PRODUCT_TOKEN=prod-...
